
local function O_NPC_main_menu(pUnit, event, pPlayer)
	if (pPlayer:IsGm() == true) then
		pUnit:GossipCreateMenu(5000001, pPlayer, 0);
		pUnit:GossipMenuAddItem(1, "Deck me out", 1, 0);
		pUnit:GossipMenuAddItem(1, "Remove my buffs", 2, 0);
		pUnit:GossipMenuAddItem(5, "<Request spells that should be here.>", 3, 0);
		pUnit:GossipSendMenu(pPlayer);
	else
		PLAYER_NAME = pPlayer:GetName();
		pUnit:SendChatMessage(1, 0, ""..PLAYER_NAME.." accessed GM script without proper authorization.");
		pPlayer:SoftDisconnect();
	end
end

local function O_NPC_on_gossip_select(pUnit, event, pPlayer, id, intid, code)
	count = 0;
	if (intid == 1) then
		repeat

		n = n or 1;
		count = count + n;

		pPlayer:AdvanceSkill(count, 450);

		until count > 500
		count = 0;
		pPlayer:LearnSpell(43688);
		pPlayer:LearnSpell(16056);
		pPlayer:LearnSpell(60114);
		pPlayer:LearnSpell(60116);
		pPlayer:LearnSpell(51412);
		pPlayer:LearnSpell(58983);
		pPlayer:LearnSpell(22719);
		pPlayer:LearnSpell(35022);
		pPlayer:LearnSpell(16055);
		pPlayer:LearnSpell(59572);
		pPlayer:LearnSpell(26656);
		pPlayer:LearnSpell(6896);
		pPlayer:LearnSpell(17461);
		pPlayer:LearnSpell(64977);
		pPlayer:LearnSpell(470);
		pPlayer:LearnSpell(60118);
		pPlayer:LearnSpell(60119);
		pPlayer:LearnSpell(48027);
		pPlayer:LearnSpell(22718);
		pPlayer:LearnSpell(59785);
		pPlayer:LearnSpell(59788);
		pPlayer:LearnSpell(22720);
		pPlayer:LearnSpell(22721);
		pPlayer:LearnSpell(22717);
		pPlayer:LearnSpell(22723);
		pPlayer:LearnSpell(22724);
		pPlayer:LearnSpell(578);
		pPlayer:LearnSpell(64658);
		pPlayer:LearnSpell(35020);
		pPlayer:LearnSpell(10969);
		pPlayer:LearnSpell(59996);
		pPlayer:LearnSpell(25953);
		pPlayer:LearnSpell(6897);
		pPlayer:LearnSpell(17463);
		pPlayer:LearnSpell(64656);
		pPlayer:LearnSpell(50869);
		pPlayer:LearnSpell(43899);
		pPlayer:LearnSpell(34406);
		pPlayer:LearnSpell(458);
		pPlayer:LearnSpell(18990);
		pPlayer:LearnSpell(59573);
		pPlayer:LearnSpell(6899);
		pPlayer:LearnSpell(17464);
		pPlayer:LearnSpell(6654);
		pPlayer:LearnSpell(6648);
		pPlayer:LearnSpell(39315);
		pPlayer:LearnSpell(34896);
		pPlayer:LearnSpell(39316);
		pPlayer:LearnSpell(34790);
		pPlayer:LearnSpell(63635);
		pPlayer:LearnSpell(63637);
		pPlayer:LearnSpell(6653);
		pPlayer:LearnSpell(8395);
		pPlayer:LearnSpell(63639);
		pPlayer:LearnSpell(36702);
		pPlayer:LearnSpell(17458);
		pPlayer:LearnSpell(63643);
		pPlayer:LearnSpell(17460);
		pPlayer:LearnSpell(23509);
		pPlayer:LearnSpell(63638);
		pPlayer:LearnSpell(16060);
		pPlayer:LearnSpell(59810);
		pPlayer:LearnSpell(61465);
		pPlayer:LearnSpell(60136);
		pPlayer:LearnSpell(59802);
		pPlayer:LearnSpell(61469);
		pPlayer:LearnSpell(35710);
		pPlayer:LearnSpell(18989);
		pPlayer:LearnSpell(6777);
		pPlayer:LearnSpell(459);
		pPlayer:LearnSpell(65637);
		pPlayer:LearnSpell(35713);
		pPlayer:LearnSpell(49379);
		pPlayer:LearnSpell(23249);
		pPlayer:LearnSpell(34407);
		pPlayer:LearnSpell(65641);
		pPlayer:LearnSpell(23248);
		pPlayer:LearnSpell(35712);
		pPlayer:LearnSpell(35714);
		pPlayer:LearnSpell(23247);
		pPlayer:LearnSpell(18991);
		pPlayer:LearnSpell(15780);
		pPlayer:LearnSpell(17453);
		pPlayer:LearnSpell(26056);
		pPlayer:LearnSpell(39798);
		pPlayer:LearnSpell(17465);
		pPlayer:LearnSpell(48025);
		pPlayer:LearnSpell(59797);
		pPlayer:LearnSpell(17459);
		pPlayer:LearnSpell(63636);
		pPlayer:LearnSpell(10795);
		pPlayer:LearnSpell(65917);
		pPlayer:LearnSpell(55531);
		pPlayer:LearnSpell(16084);
		pPlayer:LearnSpell(29059);
		pPlayer:LearnSpell(10798);
		pPlayer:LearnSpell(63640);
		pPlayer:LearnSpell(471);
		pPlayer:LearnSpell(472);
		pPlayer:LearnSpell(16058);
		pPlayer:LearnSpell(35711);
		pPlayer:LearnSpell(35018);
		pPlayer:LearnSpell(17455);
		pPlayer:LearnSpell(23246);
		pPlayer:LearnSpell(41252);
		pPlayer:LearnSpell(17456);
		pPlayer:LearnSpell(34795);
		pPlayer:LearnSpell(10873);
		pPlayer:LearnSpell(26054);
		pPlayer:LearnSpell(17462);
		pPlayer:LearnSpell(22722);
		pPlayer:LearnSpell(579);
		pPlayer:LearnSpell(18363);
		pPlayer:LearnSpell(30174);
		pPlayer:LearnSpell(17481);
		pPlayer:LearnSpell(64731);
		pPlayer:LearnSpell(39317);
		pPlayer:LearnSpell(34898);
		pPlayer:LearnSpell(63642);
		pPlayer:LearnSpell(8980);
		pPlayer:LearnSpell(42776);
		pPlayer:LearnSpell(10789);
		pPlayer:LearnSpell(15781);
		pPlayer:LearnSpell(23510);
		pPlayer:LearnSpell(63232);
		pPlayer:LearnSpell(8394);
		pPlayer:LearnSpell(10793);
		pPlayer:LearnSpell(23241);
		pPlayer:LearnSpell(43900);
		pPlayer:LearnSpell(23238);
		pPlayer:LearnSpell(23229);
		pPlayer:LearnSpell(23250);
		pPlayer:LearnSpell(65646);
		pPlayer:LearnSpell(23220);
		pPlayer:LearnSpell(23221);
		pPlayer:LearnSpell(23239);
		pPlayer:LearnSpell(65640);
		pPlayer:LearnSpell(23252);
		pPlayer:LearnSpell(35025);
		pPlayer:LearnSpell(23225);
		pPlayer:LearnSpell(23219);
		pPlayer:LearnSpell(65638);
		pPlayer:LearnSpell(23242);
		pPlayer:LearnSpell(23243);
		pPlayer:LearnSpell(23227);
		pPlayer:LearnSpell(33660);
		pPlayer:LearnSpell(65644);
		pPlayer:LearnSpell(24242);
		pPlayer:LearnSpell(65639);
		pPlayer:LearnSpell(42777);
		pPlayer:LearnSpell(23338);
		pPlayer:LearnSpell(23251);
		pPlayer:LearnSpell(65643);
		pPlayer:LearnSpell(47037);
		pPlayer:LearnSpell(35028);
		pPlayer:LearnSpell(46628);
		pPlayer:LearnSpell(23223);
		pPlayer:LearnSpell(23240);
		pPlayer:LearnSpell(23228);
		pPlayer:LearnSpell(23222);
		pPlayer:LearnSpell(48954);
		pPlayer:LearnSpell(24252);
		pPlayer:LearnSpell(39318);
		pPlayer:LearnSpell(34899);
		pPlayer:LearnSpell(16059);
		pPlayer:LearnSpell(18992);
		pPlayer:LearnSpell(63641);
		pPlayer:LearnSpell(580);
		pPlayer:LearnSpell(61425);
		pPlayer:LearnSpell(65642);
		pPlayer:LearnSpell(10796);
		pPlayer:LearnSpell(17454);
		pPlayer:LearnSpell(64659);
		pPlayer:LearnSpell(10799);
		pPlayer:LearnSpell(64657);
		pPlayer:LearnSpell(54753);
		pPlayer:LearnSpell(6898);
		pPlayer:LearnSpell(39319);
		pPlayer:LearnSpell(65645);
		pPlayer:LearnSpell(468);
		pPlayer:LearnSpell(34897);
		pPlayer:LearnSpell(581);
		pPlayer:LearnSpell(17229);
		pPlayer:LearnSpell(59791);
		pPlayer:LearnSpell(26055);
		pPlayer:LearnSpell(60025);
		pPlayer:LearnSpell(63844);
		pPlayer:LearnSpell(61230);
		pPlayer:LearnSpell(61229);
		pPlayer:LearnSpell(40192);
		pPlayer:LearnSpell(59567);
		pPlayer:LearnSpell(41514);
		pPlayer:LearnSpell(62048);
		pPlayer:LearnSpell(59650);
		pPlayer:LearnSpell(59976);
		pPlayer:LearnSpell(61996);
		pPlayer:LearnSpell(59568);
		pPlayer:LearnSpell(59996);
		pPlayer:LearnSpell(39803);
		pPlayer:LearnSpell(32244);
		pPlayer:LearnSpell(59569);
		pPlayer:LearnSpell(58615);
		pPlayer:LearnSpell(43927);
		pPlayer:LearnSpell(41515);
		pPlayer:LearnSpell(64927);
		pPlayer:LearnSpell(32239);
		pPlayer:LearnSpell(61451);
		pPlayer:LearnSpell(44153);
		pPlayer:LearnSpell(43810);
		pPlayer:LearnSpell(51960);
		pPlayer:LearnSpell(32235);
		pPlayer:LearnSpell(39798);
		pPlayer:LearnSpell(32245);
		pPlayer:LearnSpell(64956);
		pPlayer:LearnSpell(61309);
		pPlayer:LearnSpell(60424);
		pPlayer:LearnSpell(44317);
		pPlayer:LearnSpell(64796);
		pPlayer:LearnSpell(3363);
		pPlayer:LearnSpell(41513);
		pPlayer:LearnSpell(32345);
		pPlayer:LearnSpell(60021);
		pPlayer:LearnSpell(41516);
		pPlayer:LearnSpell(39801);
		pPlayer:LearnSpell(61997);
		pPlayer:LearnSpell(59570);
		pPlayer:LearnSpell(59961);
		pPlayer:LearnSpell(39800);
		pPlayer:LearnSpell(63963);
		pPlayer:LearnSpell(39802);
		pPlayer:LearnSpell(32240);
		pPlayer:LearnSpell(32242);
		pPlayer:LearnSpell(32290);
		pPlayer:LearnSpell(32295);
		pPlayer:LearnSpell(61442);
		pPlayer:LearnSpell(37015);
		pPlayer:LearnSpell(32292);
		pPlayer:LearnSpell(32297);
		pPlayer:LearnSpell(32289);
		pPlayer:LearnSpell(32246);
		pPlayer:LearnSpell(61444);
		pPlayer:LearnSpell(61446);
		pPlayer:LearnSpell(32296);
		pPlayer:LearnSpell(32243);
		pPlayer:LearnSpell(60002);
		pPlayer:LearnSpell(44151);
		pPlayer:LearnSpell(59571);
		pPlayer:LearnSpell(49193);
		pPlayer:LearnSpell(41517);
		pPlayer:LearnSpell(41518);
		pPlayer:LearnSpell(60024);
		pPlayer:LearnSpell(54729);
		pPlayer:LearnSpell(46197);
		pPlayer:LearnSpell(46199);
		pPlayer:GossipComplete();
	end

	if (intid == 2) then
		pPlayer:RemoveAllAuras();
		pPlayer:GossipComplete();
	end

	if (intid == 3) then
		pPlayer:GossipComplete();
	end
end


RegisterUnitGossipEvent(49997, 1, O_NPC_main_menu);
RegisterUnitGossipEvent(49997, 2, O_NPC_on_gossip_select);
